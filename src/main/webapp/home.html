<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SKSM</title>
    
    <link rel="icon" type="image/webp" href="assets/image/sksmLOGO.webp">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        /* =========================================
           1. DARK LUXURY THEME CONFIGURATION
           ========================================= */
        :root {
            --bg-dark: #1A1614;       
            --bg-card: #241E1B;       
            --text-beige: #E6D8CA;    
            --accent-taupe: #8B7D72;  
            --glass-dark: rgba(26, 22, 20, 0.85);
            --border-dim: rgba(230, 216, 202, 0.1);
            --shadow-glow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body, html {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-beige);
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        h1, h2, h3, .serif-font { 
            font-family: 'Cormorant Garamond', serif; 
            font-weight: 600;
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-dark); }
        ::-webkit-scrollbar-thumb { background: var(--accent-taupe); border-radius: 4px; }

        /* =========================================
           2. PRELOADER STYLES
           ========================================= */
        #preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--bg-dark);
            z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.8s ease-out, visibility 0.8s;
        }

        .loader-logo {
            width: 120px; margin-bottom: 30px;
            animation: breathe 2s infinite ease-in-out;
            filter: drop-shadow(0 0 15px rgba(230, 216, 202, 0.2));
        }

        .loader-ring {
            width: 50px; height: 50px;
            border: 2px solid rgba(139, 125, 114, 0.2);
            border-top: 2px solid var(--accent-taupe);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        .loader-text {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.5rem;
            color: var(--text-beige); /* Matches your theme color */
            letter-spacing: 4px;
            text-transform: uppercase;
            margin-top: 10px;
            margin-bottom: 25px;
            font-weight: 600;
            animation: breathe 2s infinite ease-in-out; /* Syncs with the logo animation */
        }

        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes breathe { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.05); opacity: 0.8; } }

        /* =========================================
           3. NAVIGATION
           ========================================= */
        .navbar {
            position: fixed; top: 0; width: 100%; z-index: 1000;
            padding: 25px 50px; display: flex; justify-content: space-between; align-items: center;
            transition: all 0.4s ease;
        }
        
        .navbar.scrolled {
            padding: 15px 50px;
            background: var(--glass-dark);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-dim);
        }

        .nav-brand {
            display: flex; align-items: center; gap: 15px;
            text-decoration: none; color: var(--text-beige);
        }
        .nav-brand img { height: 45px; }
        .nav-brand span { font-weight: 600; letter-spacing: 1px; font-size: 1.1rem; }

        .nav-menu { display: flex; gap: 40px; list-style: none; align-items: center; }
        
        .nav-link {
            text-decoration: none; color: rgba(230, 216, 202, 0.7); 
            font-size: 0.85rem; text-transform: uppercase; letter-spacing: 2px; position: relative;
            transition: color 0.3s;
        }
        .nav-link:hover { color: var(--text-beige); }
        .nav-link::after {
            content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 1px;
            background: var(--accent-taupe); transition: width 0.3s;
        }
        .nav-link:hover::after { width: 100%; }

        .btn-login {
            padding: 12px 30px; background: transparent; 
            color: var(--text-beige); border: 1px solid var(--accent-taupe);
            border-radius: 50px; text-decoration: none; font-size: 0.85rem;
            letter-spacing: 1px; transition: 0.3s;
        }
        .btn-login:hover { background: var(--accent-taupe); color: #fff; box-shadow: 0 0 20px rgba(139, 125, 114, 0.3); }

        .menu-toggle { display: none; font-size: 1.5rem; cursor: pointer; color: var(--text-beige); }
        @media (max-width: 900px) {
            .nav-menu { display: none; }
            .menu-toggle { display: block; }
            .navbar { padding: 20px; }
        }

        /* =========================================
           4. HERO SECTION
           ========================================= */
        .hero {
            height: 100vh; width: 100%; position: relative; overflow: hidden;
            display: flex; align-items: center; justify-content: center;
        }

        .hero-bg-slider { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
        .slide {
            position: absolute; width: 100%; height: 100%; background-size: cover; background-position: center;
            opacity: 0; transition: opacity 1.5s ease; transform: scale(1.1);
        }
        .slide.active { opacity: 0.6; animation: panImage 10s infinite alternate; } 

        @keyframes panImage { from { transform: scale(1.1); } to { transform: scale(1); } }

        .hero-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2;
            background: linear-gradient(
                to bottom,
                rgba(26, 22, 20, 0.4) 0%,
                rgba(26, 22, 20, 0.8) 70%,
                var(--bg-dark) 100%
            );
        }

        .hero-content {
            z-index: 3; text-align: center; max-width: 1000px; padding: 0 20px;
            margin-top: 50px;
        }

        .hero-super {
            display: block; font-size: 1rem; letter-spacing: 6px; text-transform: uppercase;
            color: var(--accent-taupe); margin-bottom: 20px; font-weight: 500;
            opacity: 0; animation: fadeUp 1s forwards 0.5s;
        }

        .hero-title {
            font-size: 6rem; line-height: 0.9; color: var(--text-beige); margin-bottom: 40px;
            opacity: 0; animation: fadeUp 1s forwards 0.8s;
        }
        .hero-title span.italic { font-style: italic; font-weight: 400; display: block; font-size: 4rem; margin-bottom: 10px; opacity: 0.8; }
        .hero-title span.bold { font-weight: 700; display: block; letter-spacing: -2px; color: #fff; text-shadow: 0 0 30px rgba(230, 216, 202, 0.2); }

        .hero-actions { display: flex; justify-content: center; gap: 20px; opacity: 0; animation: fadeUp 1s forwards 1.1s; }

        .btn-primary {
            padding: 18px 45px; background: var(--accent-taupe); color: #fff; border: none;
            border-radius: 2px; font-size: 0.9rem; letter-spacing: 2px; text-transform: uppercase; 
            cursor: pointer; transition: 0.4s; position: relative; overflow: hidden;
        }
        .btn-primary:hover { background: #fff; color: #000; box-shadow: 0 0 30px rgba(255,255,255,0.2); }

        .btn-outline {
            padding: 16px 45px; background: transparent; color: var(--text-beige);
            border: 1px solid var(--text-beige); text-transform: uppercase; letter-spacing: 2px;
            font-size: 0.9rem; cursor: pointer; transition: 0.3s; border-radius: 2px;
        }
        .btn-outline:hover { background: var(--text-beige); color: #000; }

        @keyframes fadeUp { to { opacity: 1; transform: translateY(0); } from { opacity: 0; transform: translateY(30px); } }
        @media(max-width:768px){ .hero-title{font-size: 3.5rem;} .hero-title span.italic{font-size: 2.5rem;} .hero-actions{flex-direction: column;} }

        /* =========================================
           5. INFO CARDS
           ========================================= */
        .stats-wrapper {
            position: relative; z-index: 10; margin-top: -80px; padding: 0 5%;
        }
        .stats-grid {
            display: grid; grid-template-columns: repeat(4, 1fr);
            background: var(--bg-card); /* Dark Card */
            padding: 50px;
            box-shadow: var(--shadow-glow);
            border: 1px solid var(--border-dim);
        }
        .stat-box { text-align: center; border-right: 1px solid var(--border-dim); padding: 0 20px; }
        .stat-box:last-child { border: none; }
        .stat-num { font-family: 'Cormorant Garamond', serif; font-size: 3.5rem; color: #fff; display: block; line-height: 1; margin-bottom: 10px; }
        .stat-label { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: var(--accent-taupe); font-weight: 600; }

        @media(max-width:900px){ .stats-grid{grid-template-columns: 1fr 1fr; gap: 30px;} .stat-box{border:none;} }

        /* =========================================
           6. TIMELINE
           ========================================= */
        .section-padding { padding: 120px 5%; }
        .text-center { text-align: center; }
        
        .section-tag { color: var(--accent-taupe); letter-spacing: 4px; font-size: 0.8rem; text-transform: uppercase; display: block; margin-bottom: 20px; }
        .section-title { font-size: 3rem; color: #fff; margin-bottom: 80px; }

        .timeline-container { max-width: 900px; margin: 0 auto; position: relative; }
        .timeline-line { position: absolute; left: 50%; top: 0; height: 100%; width: 1px; background: var(--border-dim); }

        .timeline-row { display: flex; justify-content: center; margin-bottom: 60px; position: relative; }
        .timeline-dot {
            width: 12px; height: 12px; background: var(--bg-dark); border: 2px solid var(--accent-taupe);
            border-radius: 50%; position: absolute; left: 50%; top: 20px; transform: translateX(-50%); z-index: 2;
            box-shadow: 0 0 10px var(--accent-taupe);
        }

        .timeline-content { 
            width: 45%; padding: 30px; 
            background: var(--bg-card); 
            transition: 0.4s; 
            border: 1px solid var(--border-dim); 
        }
        .timeline-content:hover { transform: translateY(-5px); border-color: var(--accent-taupe); }

        .timeline-row:nth-child(odd) .timeline-content { margin-right: auto; text-align: right; }
        .timeline-row:nth-child(even) .timeline-content { margin-left: auto; text-align: left; }

        .year { font-family: 'Cormorant Garamond', serif; font-size: 1.5rem; color: var(--accent-taupe); font-style: italic; display: block; margin-bottom: 10px; }
        .event-title { font-size: 1.2rem; margin-bottom: 10px; font-weight: 600; color: #fff; }
        .event-desc { font-size: 0.9rem; line-height: 1.7; color: rgba(255,255,255,0.6); }

        @media(max-width:768px){ .timeline-line{left: 20px;} .timeline-dot{left: 20px;} .timeline-content{width: 85%; margin-left: auto !important; margin-right: 0 !important; text-align: left !important;} }

        /* =========================================
           7. ORGANIZATION CHART
           ========================================= */
        .org-section { background: #151210; }
        
        .btn-toggle-org {
            background: transparent; border: 1px solid var(--accent-taupe); color: var(--accent-taupe);
            padding: 15px 40px; text-transform: uppercase; letter-spacing: 2px; cursor: pointer;
            transition: 0.3s; font-size: 0.8rem;
        }
        .btn-toggle-org:hover { background: var(--accent-taupe); color: #fff; }

        .org-reveal { max-height: 0; overflow: hidden; transition: 0.8s ease; opacity: 0; margin-top: 40px; }
        .org-reveal.active { max-height: 2000px; opacity: 1; }
        .org-reveal img { max-width: 100%; border-radius: 4px; box-shadow: 0 20px 60px rgba(0,0,0,0.5); opacity: 0.9; }

        /* =========================================
           8. MAP SECTION (RESIZED & STYLED)
           ========================================= */
        .map-section {
            padding: 50px 5%; /* Added padding so it's not edge-to-edge */
            border-top: 1px solid var(--border-dim);
            position: relative;
            background: var(--bg-dark);
        }
        
        .map-wrapper {
            width: 100%;
            max-width: 1200px; /* Limits the width */
            height: 350px; /* Reduced height */
            margin: 0 auto; /* Centers the map */
            
            border-radius: 10px; /* Soft corners */
            overflow: hidden;
            border: 1px solid var(--accent-taupe); /* Luxury border */
            
            filter: grayscale(100%) invert(90%) contrast(85%);
            transition: all 0.5s ease;
        }
        
        /* On hover, full color and slightly larger shadow */
        .map-wrapper:hover {
            filter: grayscale(0%) invert(0%);
            box-shadow: 0 10px 30px rgba(139, 125, 114, 0.2);
        }

        /* =========================================
           9. FOOTER
           ========================================= */
        footer { background: #0b0908; color: #888; padding: 100px 5% 30px; border-top: 1px solid var(--border-dim); }
        .footer-flex { display: flex; flex-wrap: wrap; justify-content: space-between; gap: 40px; margin-bottom: 60px; }
        .footer-brand { flex: 2; min-width: 300px; }
        .footer-col { flex: 1; min-width: 200px; }

        .footer-brand h4 { font-size: 2rem; color: var(--text-beige); margin-bottom: 20px; font-family: 'Cormorant Garamond', serif; }
        .footer-brand p { line-height: 1.8; max-width: 400px; font-size: 0.9rem; }

        .footer-col h5 { color: #fff; margin-bottom: 25px; letter-spacing: 2px; font-size: 0.8rem; text-transform: uppercase; }
        .footer-links { list-style: none; }
        .footer-links li { margin-bottom: 15px; }
        .footer-links a { color: #888; text-decoration: none; transition: 0.3s; font-size: 0.9rem; }
        .footer-links a:hover { color: var(--accent-taupe); padding-left: 5px; }

        .copyright { border-top: 1px solid #222; padding-top: 30px; text-align: center; color: #444; font-size: 0.8rem; }
    </style>
</head>
<body>

    <div id="preloader">
        <img src="assets/image/sksmLOGO.webp" alt="Loading Badge" class="loader-logo">
        
        <span class="loader-text">Welcome</span>
        
        <div class="loader-ring"></div>
    </div>

    <nav class="navbar" id="navbar">
        <a href="#" class="nav-brand">
            <img src="assets/image/sksmLOGO.webp" alt="Logo">
            <span>SSMS</span>
        </a>
        <ul class="nav-menu">
            <li><a href="#" class="nav-link">Home</a></li>
            <li><a href="#history" class="nav-link">Heritage</a></li>
            <li><a href="#organization" class="nav-link">Organization</a></li>
            <li><a href="#contact" class="nav-link">Contact</a></li>
        </ul>
        <a href="choice.html" class="btn-login">System Portal</a>
        <div class="menu-toggle"><i class="fa-solid fa-bars"></i></div>
    </nav>

    <section class="hero">
        <div class="hero-bg-slider">
            <div class="slide active" style="background-image: url('assets/image/slide1.jpeg');"></div>
            <div class="slide" style="background-image: url('assets/image/slide2.jpeg');"></div>
            <div class="slide" style="background-image: url('assets/image/slide3.jpeg');"></div>
        </div>
        <div class="hero-overlay"></div>
        
        <div class="hero-content">
            <span class="hero-super">Est. 1959 • Malacca</span>
            <h1 class="hero-title">
                <span class="italic">Sekolah Kebangsaan</span>
                <span class="bold">SERI MENDAPAT</span>
            </h1>
            <div class="hero-actions">
                <button onclick="window.location.href='choice.html'" class="btn-primary">Access System</button>
                <button onclick="document.getElementById('history').scrollIntoView()" class="btn-outline">Our History</button>
            </div>
        </div>
    </section>

    <div class="stats-wrapper" data-aos="fade-up">
        <div class="stats-grid">
            <div class="stat-box">
                <span class="stat-num" data-target="1959">0</span>
                <span class="stat-label">Founded</span>
            </div>
            <div class="stat-box">
                <span class="stat-num" data-target="65">0</span>
                <span class="stat-label">Years Excellence</span>
            </div>
            <div class="stat-box">
                <span class="stat-num" data-target="42">0</span>
                <span class="stat-label">KM to City</span>
            </div>
            <div class="stat-box">
                <span class="stat-num" data-target="100">0</span>
                <span class="stat-label">% Dedication</span>
            </div>
        </div>
    </div>

    <section id="history" class="section-padding">
        <div class="text-center" data-aos="fade-up">
            <span class="section-tag">The Timeline</span>
            <h2 class="section-title">A Storied Heritage</h2>
        </div>
        
        <div class="timeline-container">
            <div class="timeline-line"></div>
            
            <div class="timeline-row" data-aos="fade-up">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <span class="year">1959</span>
                    <h4 class="event-title">The Foundation</h4>
                    <p class="event-desc">Established on Jan 11th by the villagers of Semujuk. A humble wooden start with 40 students and 2 teachers.</p>
                </div>
            </div>

            <div class="timeline-row" data-aos="fade-up">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <span class="year">1969</span>
                    <h4 class="event-title">Structural Growth</h4>
                    <p class="event-desc">Transitioned from wood to a semi-permanent government building, marking the first era of modernization.</p>
                </div>
            </div>

            <div class="timeline-row" data-aos="fade-up">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <span class="year">2003</span>
                    <h4 class="event-title">New Era</h4>
                    <p class="event-desc">Complete overhaul with multi-storey blocks, science labs, and advanced library facilities.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="organization" class="section-padding org-section">
        <div class="text-center">
            <h2 class="section-title" style="margin-bottom: 30px;">School Leadership</h2>
            <button class="btn-toggle-org" id="orgBtn">View Organization Chart</button>
            <div class="org-reveal" id="orgContent">
                <img src="assets/image/organization.jpeg" alt="Org Chart">
            </div>
        </div>
    </section>

    <section id="map" class="map-section">
        <div class="map-wrapper" data-aos="zoom-in">
            <iframe 
                src="https://maps.google.com/maps?q=Sekolah+Kebangsaan+Seri+Mendapat,+Merlimau,+Melaka&t=&z=15&ie=UTF8&iwloc=&output=embed" 
                width="100%" 
                height="100%" 
                style="border:0;" 
                allowfullscreen="" 
                loading="lazy" 
                referrerpolicy="no-referrer-when-downgrade">
            </iframe>
        </div>
    </section>

    <footer id="contact">
        <div class="footer-flex">
            <div class="footer-brand">
                <h4>SK Seri Mendapat</h4>
                <p>A beacon of rural education excellence in Semujuk, Melaka. Committed to nurturing minds and building strong character since 1959.</p>
            </div>
            <div class="footer-col">
                <h5>Contact</h5>
                <ul class="footer-links">
                    <li><i class="fa-solid fa-location-dot" style="margin-right:10px;"></i>77300 Merlimau, Melaka</li>
                    <li><i class="fa-solid fa-phone" style="margin-right:10px;"></i>+60 6-263 3672</li>
                    <li><i class="fa-solid fa-envelope" style="margin-right:10px;"></i>MBA1027@moe.edu.my</li>
                </ul>
            </div>
            <div class="footer-col">
                <h5>Portals</h5>
                <ul class="footer-links">
                    <li><a href="#">Admin Login</a></li>
                    <li><a href="#">Teacher Login</a></li>
                    <li><a href="#">Guardian Login</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            © 2026 Sekolah Kebangsaan Seri Mendapat. All Rights Reserved.
        </div>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // 1. PAGE LOAD ANIMATION
        window.addEventListener('load', () => {
            const loader = document.getElementById('preloader');
            setTimeout(() => {
                loader.style.opacity = '0'; 
                setTimeout(() => {
                    loader.style.visibility = 'hidden'; 
                }, 800); 
            }, 1500); 
        });

        // 2. SCROLL ANIMATIONS (AOS)
        AOS.init({duration: 1000, once: true});

        // 3. NAVBAR SCROLL EFFECT
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if(window.scrollY > 50) nav.classList.add('scrolled');
            else nav.classList.remove('scrolled');
        });

        // 4. HERO SLIDER
        const slides = document.querySelectorAll('.slide');
        let idx = 0;
        setInterval(() => {
            slides[idx].classList.remove('active');
            idx = (idx + 1) % slides.length;
            slides[idx].classList.add('active');
        }, 5000);

        // 5. ORG CHART TOGGLE
        const btn = document.getElementById('orgBtn');
        const content = document.getElementById('orgContent');
        btn.addEventListener('click', () => {
            content.classList.toggle('active');
            btn.textContent = content.classList.contains('active') ? "Close Chart" : "View Organization Chart";
        });

        // 6. STATS COUNTER
        const stats = document.querySelectorAll('.stat-num');
        const observer = new IntersectionObserver((entries) => {
            if(entries[0].isIntersecting) {
                stats.forEach(stat => {
                    const target = +stat.dataset.target;
                    let count = 0;
                    const inc = target / 50; 
                    const update = () => {
                        count += inc;
                        if(count < target) {
                            stat.innerText = Math.ceil(count);
                            requestAnimationFrame(update);
                        } else stat.innerText = target;
                    };
                    update();
                });
            }
        });
        observer.observe(document.querySelector('.stats-grid'));
    </script>
</body>
</html>